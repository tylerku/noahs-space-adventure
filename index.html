<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Noah's Space Adventure</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ========== HUD UI ========== -->
    <div id="ui-layer">
        <button class="m3-menu-btn" onclick="returnToMenu()">Menu</button>
        <div class="top-hud">
            <div class="repair-label">ROCKET REPAIR PROGRESS</div>
            <div class="progress-container">
                <div id="repair-bar"></div>
            </div>
        </div>
        <div class="status-box">
            <div class="hannah-hp">Hannah & James HP: <span id="hp-val">100</span></div>
        </div>
        <div class="controls">
            <span class="key">WASD</span> Move | <span class="key">Click</span> Shoot | <span class="key">Space</span> Swing Sword
        </div>
    </div>

    <!-- ========== GAME OVER / WIN SCREENS ========== -->
    <div id="overlay">
        <h1 id="ov-title">VICTORY!</h1>
        <h2 id="ov-desc">You saved Hannah and James!</h2>
        <button id="restart-btn" onclick="resetGame()">Play Again</button>
    </div>

    <!-- ========== MAIN MENU ========== -->
    <div id="main-menu">
        <div class="menu-stars">
            <div class="menu-star" style="top: 10%; left: 15%; animation-delay: 0.3s;"></div>
            <div class="menu-star" style="top: 25%; left: 45%; animation-delay: 0.8s;"></div>
            <div class="menu-star" style="top: 15%; left: 75%; animation-delay: 0.1s;"></div>
            <div class="menu-star" style="top: 40%; left: 25%; animation-delay: 0.6s;"></div>
            <div class="menu-star" style="top: 35%; left: 85%; animation-delay: 0.4s;"></div>
            <div class="menu-star" style="top: 60%; left: 10%; animation-delay: 0.9s;"></div>
            <div class="menu-star" style="top: 55%; left: 60%; animation-delay: 0.2s;"></div>
            <div class="menu-star" style="top: 75%; left: 35%; animation-delay: 0.7s;"></div>
            <div class="menu-star" style="top: 80%; left: 80%; animation-delay: 0.5s;"></div>
        </div>

        <h1 class="game-title">NOAH'S SPACE ADVENTURE</h1>
        <p class="game-subtitle">Help Noah build a rocket and go to space!</p>

        <div class="menu-buttons">
            <button class="menu-btn primary" id="continue-game-btn" disabled>
                <span class="btn-icon">‚è≥</span>
                <span class="btn-text">Loading...</span>
            </button>
            <button class="menu-btn secondary" id="new-game-btn" disabled>
                <span class="btn-icon">‚è≥</span>
                <span class="btn-text">Loading...</span>
            </button>
        </div>

        <div class="menu-record">
            <div class="record-label">Best Time Record</div>
            <div class="record-value" id="menu-best-days">No record yet</div>
        </div>

        <div class="menu-rocket">üöÄ</div>
    </div>

    <!-- ========== MISSION INTRO (Mission 3) ========== -->
    <div id="mission-intro">
        <div class="scan-line"></div>
        <div class="corner-decor tl"></div>
        <div class="corner-decor tr"></div>
        <div class="corner-decor bl"></div>
        <div class="corner-decor br"></div>
        <div class="mission-container">
            <div class="mission-label">MISSION</div>
            <div class="mission-number">3</div>
            <div class="mission-title">
                <span class="highlight">Hannah</span> and baby <span class="highlight">James</span>
                are stranded on Mars!<br>
                Protect them while <span class="highlight">Dad</span> repairs the rocket.
            </div>
        </div>
    </div>

    <!-- ========== CUTSCENE (Mission 3) ========== -->
    <div id="cutscene">
        <div class="cutscene-stars"></div>
        <div class="speech-bubble">
            <span class="noah-name">Noah:</span> "Don't worry Hannah, I'll protect you and James!"<br><br>
            <span class="mommy-name">Hannah:</span> "Be careful Noah! The aliens are coming!"
        </div>
        <div class="click-continue">Click anywhere to start</div>
    </div>

    <!-- ========== VICTORY CUTSCENE ========== -->
    <div id="victory-cutscene">
        <div class="victory-scene">
            <div class="victory-stars">
                <div class="star" style="top: 10%; left: 20%;"></div>
                <div class="star" style="top: 25%; left: 50%;"></div>
                <div class="star" style="top: 15%; left: 80%;"></div>
                <div class="star" style="top: 40%; left: 15%;"></div>
                <div class="star" style="top: 35%; left: 65%;"></div>
                <div class="star" style="top: 5%; left: 35%;"></div>
            </div>
            <div class="victory-ground"></div>

            <div class="victory-rocket">
                <div class="rocket-flame">
                    <div class="flame-outer"></div>
                    <div class="flame-inner"></div>
                    <div class="flame-core"></div>
                </div>
                <div class="rocket-body">
                    <div class="rocket-nose"></div>
                    <div class="rocket-window"></div>
                    <div class="rocket-stripe top"></div>
                    <div class="rocket-stripe bottom"></div>
                    <div class="rocket-fin left"></div>
                    <div class="rocket-fin right"></div>
                </div>
            </div>

            <div class="smoke-cloud" style="left: 45%; width: 40px; height: 30px; animation-delay: 0s;"></div>
            <div class="smoke-cloud" style="left: 52%; width: 50px; height: 35px; animation-delay: 0.2s;"></div>
            <div class="smoke-cloud" style="left: 48%; width: 35px; height: 25px; animation-delay: 0.4s;"></div>

            <div class="victory-family">
                <div class="victory-noah">
                    <div class="hero-badge">HERO!</div>
                    <div class="noah-hair"></div>
                    <div class="noah-head"></div>
                    <div class="noah-face">
                        <div class="noah-eye left"></div>
                        <div class="noah-eye right"></div>
                        <div class="noah-smile"></div>
                    </div>
                    <div class="noah-arm-raised left"><div class="noah-hand"></div></div>
                    <div class="noah-arm-raised right"><div class="noah-hand"></div></div>
                    <div class="noah-body"></div>
                    <div class="character-label noah-label">Noah</div>
                </div>

                <div class="victory-dad">
                    <div class="dad-hair"></div>
                    <div class="dad-head"></div>
                    <div class="dad-face">
                        <div class="dad-eye left"></div>
                        <div class="dad-eye right"></div>
                        <div class="dad-smile"></div>
                    </div>
                    <div class="dad-body"></div>
                    <div class="character-label dad-label">Dad</div>
                </div>

                <div class="victory-hannah-small">
                    <div class="hannah-container">
                        <div class="hannah-hair"></div>
                        <div class="hannah-hair-left"></div>
                        <div class="hannah-hair-right"></div>
                        <div class="hannah-head"></div>
                        <div class="hannah-face">
                            <div class="hannah-eye left"></div>
                            <div class="hannah-eye right"></div>
                            <div class="hannah-smile"></div>
                        </div>
                        <div class="hannah-body"></div>
                        <div class="hannah-arm left"></div>
                        <div class="hannah-arm right"></div>
                        <div class="james-bundle">
                            <div class="james-hair"></div>
                            <div class="james-head"></div>
                            <div class="james-face">
                                <div class="james-eye left"></div>
                                <div class="james-eye right"></div>
                                <div class="james-smile"></div>
                            </div>
                        </div>
                    </div>
                    <div class="character-label hannah-label" style="left: 20px;">Hannah & James</div>
                </div>
            </div>

            <div class="victory-bubble bubble-dad">"Great job, Noah!"</div>
            <div class="victory-bubble bubble-hannah">"Thank you, big brother!"</div>
            <div class="victory-bubble bubble-noah">"Let's go home!"</div>

            <div class="victory-title">MISSION COMPLETE!</div>
            <div class="victory-subtitle">The family is safe and heading home to Earth!</div>
        </div>

        <div style="margin-top: 40px; display: flex; gap: 20px; justify-content: center;">
            <button class="victory-btn" style="position: static; transform: none; opacity: 1;" onclick="returnToMenu()">Continue Adventure</button>
        </div>
    </div>

    <!-- ========== MISSION 1 INTRO ========== -->
    <div id="mission1-intro">
        <div class="scan-line" style="background: linear-gradient(90deg, transparent, #00ff00, transparent);"></div>
        <div class="corner-decor tl" style="border-color: #00ff00;"></div>
        <div class="corner-decor tr" style="border-color: #00ff00;"></div>
        <div class="corner-decor bl" style="border-color: #00ff00;"></div>
        <div class="corner-decor br" style="border-color: #00ff00;"></div>
        <div class="mission-container">
            <div class="mission-label" style="color: #00ff00; text-shadow: 0 0 10px #00ff00;">MISSION</div>
            <div class="mission-number" style="color: #00cc00; text-shadow: 0 0 20px #00cc00;">1</div>
            <div class="mission-title">
                <span class="highlight" style="color: #00ff00;">Build your rocket!</span><br>
                Earn money by helping neighbors on<br>
                <span class="highlight" style="color: #ffcc00;">Belle Pond Avenue</span>
            </div>
        </div>
    </div>

    <!-- ========== MISSION 1 CUTSCENE ========== -->
    <div id="mission1-cutscene">
        <div class="speech-bubble">
            <span class="noah-name">Noah:</span> "I want to raise money so i can earn enough money for my rocket!"
        </div>
        <div class="click-continue">Click anywhere to start</div>
    </div>

    <!-- ========== MISSION 1 HUD ========== -->
    <div id="mission1-hud">
        <div class="m1-top-bar">
            <button class="m1-menu-btn" onclick="returnToMenu()">‚ò∞ Menu</button>
            <div class="m1-time-box">
                <span id="m1-time-icon">‚òÄÔ∏è</span>
                <span id="m1-time">6:00 AM</span>
                <span class="m1-day">Day <span id="m1-day">1</span></span>
            </div>
            <div class="m1-money-box">üí∞ $<span id="m1-money">0</span></div>
            <div class="m1-stats-box">
                <div class="m1-stat-row">
                    <span class="m1-stat-label">üèÉ Stamina</span>
                    <span class="m1-stat-level">Lv.<span id="m1-stamina-level">1</span></span>
                    <div class="m1-xp-bar-container">
                        <div id="m1-stamina-xp" class="m1-xp-bar stamina"></div>
                    </div>
                    <span class="m1-xp-text" id="m1-stamina-xp-text">0/50</span>
                </div>
                <div class="m1-stat-row">
                    <span class="m1-stat-label">üß† Intelligence</span>
                    <span class="m1-stat-level">Lv.<span id="m1-intel-level">1</span></span>
                    <div class="m1-xp-bar-container">
                        <div id="m1-intel-xp" class="m1-xp-bar intel"></div>
                    </div>
                    <span class="m1-xp-text" id="m1-intel-xp-text">0/50</span>
                </div>
            </div>
            <div class="m1-progress-box">
                <div class="m1-progress-row">
                    <span>üíª Computer</span>
                    <span id="m1-computer-progress">0/9</span>
                </div>
                <div class="m1-progress-row">
                    <span>üöÄ Rocket</span>
                    <span id="m1-rocket-progress">0/5</span>
                    <span id="m1-rocket-locked" class="m1-locked">(INT 8)</span>
                </div>
                <div id="m1-rocket-status" class="m1-rocket-status"></div>
            </div>
        </div>
        <div class="m1-bottom-bar">
            <div class="m1-controls">
                <span class="key">WASD</span> Move | <span class="key">E</span> Interact
            </div>
            <button class="m1-new-game-btn" onclick="confirmNewGame()">New Game</button>
        </div>
    </div>

    <!-- Mission 1 UI Elements -->
    <div id="m1-tooltip" class="m1-tooltip"></div>

    <div id="m1-conversation" class="m1-conversation-dialog">
        <div id="m1-conv-name" class="m1-conv-name"></div>
        <div id="m1-conv-text" class="m1-conv-text"></div>
        <div id="m1-conv-options" class="m1-conv-options"></div>
    </div>

    <div id="m1-prompt" class="m1-interaction-prompt">
        <div id="m1-prompt-title" class="m1-prompt-title"></div>
        <div id="m1-prompt-text"></div>
        <div id="m1-prompt-mood"></div>
        <div id="m1-prompt-buttons" class="m1-prompt-buttons"></div>
    </div>

    <div id="m1-notification" class="m1-notification"></div>

    <div id="m1-niam-dialog" class="m1-niam-dialog">
        <div class="m1-niam-title">Hey Noah! Wanna come play?</div>
        <div class="m1-niam-subtitle">- Niam</div>
        <div class="m1-niam-buttons">
            <button class="m1-niam-btn play" onclick="niamPlay()">Sure, let's play! (Lose $5)</button>
            <button class="m1-niam-btn decline" onclick="niamDecline()">Not right now, I'm saving for my rocket!</button>
        </div>
    </div>

    <div id="m1-mommy-dialog" class="m1-mommy-dialog">
        <div class="m1-mommy-title">Hi sweetie! Need more lemonade supplies?</div>
        <div class="m1-mommy-subtitle">- Mommy</div>
        <div class="m1-mommy-buttons">
            <button class="m1-mommy-btn buy" onclick="buyMaterials()">Yes please! ($10 for more supplies)</button>
            <button class="m1-mommy-btn decline" onclick="closeMommyDialog()">No thanks, Mommy!</button>
        </div>
    </div>

    <div id="m1-shop" class="m1-shop-panel">
        <div class="m1-shop-title">üè™ Belle Pond Tech Shop</div>
        <div id="m1-shop-items" class="m1-shop-items"></div>
        <button class="m1-shop-close" onclick="closeShop()">Close</button>
    </div>

    <!-- Library Dialog -->
    <div id="m1-library-dialog" class="m1-library-dialog">
        <div class="m1-library-title">üìö Belle Pond Library</div>
        <div class="m1-library-subtitle">"Knowledge is the key to the stars!"</div>
        <div class="m1-library-options">
            <button class="m1-library-btn read" onclick="libraryRead()">
                <span class="btn-title">üìñ Read Books</span>
                <span class="btn-desc">Learn at your own pace</span>
                <span class="btn-stats">FREE | +25 INT XP | 4 hours</span>
            </button>
            <button class="m1-library-btn tutor" onclick="libraryTutor()">
                <span class="btn-title">üë®‚Äçüè´ Hire a Tutor</span>
                <span class="btn-desc">Accelerated learning!</span>
                <span class="btn-stats">$25 | +200 INT XP | 2 hours</span>
            </button>
            <button class="m1-library-btn close" onclick="closeLibrary()">Leave Library</button>
        </div>
    </div>

    <!-- Library Interior HUD -->
    <div id="m1-library-interior-hud" class="m1-library-interior-hud">
    </div>

    <!-- Library Tutor Dialog -->
    <div id="m1-tutor-dialog" class="m1-tutor-dialog">
        <div class="m1-tutor-title">üë®‚Äçüè´ Hire a Tutor?</div>
        <div class="m1-tutor-info">
            <div class="tutor-cost">Cost: <span class="highlight">$25</span></div>
            <div class="tutor-reward">Reward: <span class="highlight">+200 Intelligence XP</span></div>
            <div class="tutor-time">Time: <span class="highlight">2 hours</span></div>
        </div>
        <div class="m1-tutor-desc">Get personalized tutoring to accelerate your learning!</div>
        <div class="m1-tutor-buttons">
            <button class="m1-tutor-btn confirm" onclick="confirmTutor()">Yes, Hire Tutor</button>
            <button class="m1-tutor-btn cancel" onclick="closeTutorDialog()">No Thanks</button>
        </div>
    </div>

    <!-- Library Reading Dialog -->
    <div id="m1-reading-dialog" class="m1-tutor-dialog">
        <div class="m1-tutor-title">üìö Study at the Library?</div>
        <div class="m1-tutor-info">
            <div class="tutor-cost">Cost: <span class="highlight free">FREE</span></div>
            <div class="tutor-reward">Reward: <span class="highlight">+25 Intelligence XP</span></div>
            <div class="tutor-time">Time: <span class="highlight">4 hours</span></div>
        </div>
        <div class="m1-tutor-desc">Spend time reading books to expand your knowledge!</div>
        <div class="m1-tutor-buttons">
            <button class="m1-tutor-btn confirm" onclick="confirmReading()">Yes, Study</button>
            <button class="m1-tutor-btn cancel" onclick="closeReadingDialog()">No Thanks</button>
        </div>
    </div>

    <!-- Build Computer Dialog -->
    <div id="m1-build-computer-dialog" class="m1-tutor-dialog">
        <div class="m1-tutor-title">üîß Build Your Computer?</div>
        <div class="m1-tutor-info">
            <div class="tutor-cost">Parts: <span class="highlight">9/9 Ready!</span></div>
            <div class="tutor-reward">Unlocks: <span class="highlight">Coding Jobs & Crypto</span></div>
        </div>
        <div class="m1-tutor-desc">All parts collected! Assemble them into a working computer to start earning money from coding jobs!</div>
        <div class="m1-tutor-buttons">
            <button class="m1-tutor-btn confirm" onclick="confirmBuildComputer()">üîß Build It!</button>
            <button class="m1-tutor-btn cancel" onclick="closeBuildComputerDialog()">Not Yet</button>
        </div>
    </div>

    <!-- Running Track Dialog -->
    <div id="m1-track-dialog" class="m1-track-dialog">
        <div class="m1-track-title">üèÉ Running Track</div>
        <div class="m1-track-subtitle">"Push your limits!"</div>
        <div class="m1-track-options">
            <button class="m1-track-btn run" onclick="startRunning()">
                <span class="btn-title">üèÉ‚Äç‚ôÇÔ∏è Run Laps</span>
                <span class="btn-desc">Build your stamina!</span>
                <span class="btn-stats">+50 Stamina XP per lap | 30 min each</span>
            </button>
            <button class="m1-track-btn close" onclick="closeTrack()">Leave Track</button>
        </div>
    </div>

    <!-- Dad House Flipping Dialog -->
    <div id="m1-dad-dialog" class="m1-dad-dialog">
        <div class="m1-dad-title">üè† House Flipping with Dad</div>
        <div class="m1-dad-subtitle" id="dad-dialog-subtitle">"Ready to learn about real estate, sport?"</div>
        <div class="m1-dad-options" id="dad-dialog-options">
            <button class="m1-dad-btn flip" onclick="dadFlipHouse()">
                <span class="btn-title">üî® Let's Flip a House!</span>
                <span class="btn-desc">80% success rate</span>
                <span class="btn-stats">+150 INT XP | 6 hours | Variable profit/loss</span>
            </button>
            <button class="m1-dad-btn close" onclick="closeDadDialog()">Maybe later, Dad</button>
        </div>
    </div>

    <!-- Home Dialog -->
    <div id="m1-home-dialog" class="m1-home-dialog">
        <div class="m1-home-title">üè† Noah's House</div>
        <div class="m1-home-subtitle">"Home sweet home!"</div>
        <div class="m1-home-options">
            <button class="m1-home-btn computer" onclick="openComputerFromHome()" id="home-computer-btn">
                <span class="btn-title">üíª Use Computer</span>
                <span class="btn-desc">Coding jobs & crypto trading</span>
                <span class="btn-lock" id="home-computer-lock">üîí Build computer first (buy parts at shop)</span>
            </button>
            <button class="m1-home-btn sleep" onclick="goToSleepFromHome()" id="home-sleep-btn">
                <span class="btn-title">üò¥ Go to Sleep</span>
                <span class="btn-desc">Rest up for tomorrow!</span>
                <span class="btn-lock" id="home-sleep-lock">Come back when it's getting dark</span>
            </button>
            <button class="m1-home-btn close" onclick="closeHome()">Leave House</button>
        </div>
    </div>

    <!-- Computer Dialog -->
    <div id="m1-computer-dialog" class="m1-computer-dialog">
        <div class="m1-computer-title">üíª Noah's Computer</div>
        <div class="m1-computer-subtitle">"Time to work on some projects!"</div>
        <div class="m1-computer-options">
            <button class="m1-computer-btn code" onclick="startCoding()" id="coding-btn">
                <span class="btn-title">üë®‚Äçüíª Coding Jobs</span>
                <span class="btn-desc">Write code for clients</span>
                <span class="btn-stats">$25-50 | +15 INT XP | 2 hours</span>
                <span class="btn-lock" id="coding-lock">üîí Requires INT 4</span>
            </button>
            <button class="m1-computer-btn crypto" onclick="openCrypto()">
                <span class="btn-title">üìà Crypto Trading</span>
                <span class="btn-desc">Buy and sell digital coins!</span>
                <span class="btn-stats">High risk, high reward!</span>
            </button>
            <button class="m1-computer-btn close" onclick="closeComputer()">Turn Off Computer</button>
        </div>
    </div>

    <!-- Crypto Trading Dialog -->
    <div id="m1-crypto-dialog" class="m1-crypto-dialog">
        <div class="m1-crypto-title">üìä Crypto Exchange</div>
        <div class="m1-crypto-balance">Balance: $<span id="crypto-balance">0</span></div>
        <div class="m1-crypto-coins">
            <div class="m1-crypto-coin">
                <div class="coin-header">
                    <span class="coin-icon">‚Çø</span>
                    <span class="coin-name">BitCoin</span>
                </div>
                <div class="coin-price">$<span id="spacecoin-price">100.00</span></div>
                <div class="coin-owned">Owned: <span id="spacecoin-owned">0</span></div>
                <div class="coin-trend" id="spacecoin-trend">Steady growth üìà</div>
                <div class="coin-actions">
                    <button class="coin-btn buy" onclick="buyCrypto('spacecoin')">Buy</button>
                    <button class="coin-btn sell" onclick="sellCrypto('spacecoin')">Sell</button>
                </div>
            </div>
            <div class="m1-crypto-coin">
                <div class="coin-header">
                    <span class="coin-icon">üêï</span>
                    <span class="coin-name">DogeCoin</span>
                </div>
                <div class="coin-price">$<span id="dogecoin-price">10.00</span></div>
                <div class="coin-owned">Owned: <span id="dogecoin-owned">0</span></div>
                <div class="coin-trend" id="dogecoin-trend">Very volatile! üé≤</div>
                <div class="coin-actions">
                    <button class="coin-btn buy" onclick="buyCrypto('dogecoin')">Buy</button>
                    <button class="coin-btn sell" onclick="sellCrypto('dogecoin')">Sell</button>
                </div>
            </div>
        </div>
        <div class="m1-crypto-tip">üí° Prices change each day! BitCoin is safer, DogeCoin might moon! üåô</div>
        <button class="m1-crypto-close" onclick="closeCrypto()">Close Exchange</button>
    </div>

    <!-- House Interior HUD -->
    <div id="m1-house-interior-hud" class="m1-house-interior-hud">
        <div class="house-interior-title">Noah's Room</div>
        <div class="house-interior-instructions">
            Click on <strong>bed</strong> to sleep | Click on <strong>computer</strong> to work | Click <strong>door</strong> or press <strong>ESC</strong> to exit
        </div>
    </div>

    <!-- Computer Screen Overlay -->
    <div id="computer-screen-overlay" class="computer-screen-overlay">
        <div class="computer-monitor">
            <div class="monitor-bezel">
                <div class="monitor-screen">
                    <!-- Main Menu -->
                    <div class="computer-menu" id="computer-main-menu">
                        <div class="computer-header">NoahOS v1.0</div>
                        <div class="screen-stats">
                            <div class="screen-stat">Cash: $<span id="screen-balance">0</span></div>
                            <div class="screen-stat">Crypto Value: $<span id="screen-wallet">0</span></div>
                        </div>
                        <div class="computer-options">
                            <button class="screen-btn jobs" onclick="openJobBrowser()">
                                <span class="screen-icon">üíº</span>
                                <span>Coding Jobs</span>
                            </button>
                            <button class="screen-btn crypto" onclick="openScreenCrypto()">
                                <span class="screen-icon">üìà</span>
                                <span>Crypto Trading</span>
                            </button>
                            <button class="screen-btn power-off" onclick="closeComputerScreen()">
                                <span class="screen-icon">‚èª</span>
                                <span>Power Off</span>
                            </button>
                        </div>
                    </div>

                    <!-- Job Browser -->
                    <div class="job-browser" id="job-browser" style="display: none;">
                        <div class="job-browser-header">
                            <span class="job-browser-title">üíº FreelanceHub</span>
                            <span class="job-browser-subtitle">Find your next coding gig!</span>
                        </div>
                        <div class="job-listings" id="job-listings">
                            <!-- Jobs will be rendered here -->
                        </div>
                        <button class="back-btn" onclick="showComputerMainMenu()">‚Üê Back to Desktop</button>
                    </div>

                    <!-- Crypto Trading Screen -->
                    <div class="screen-crypto" id="screen-crypto" style="display: none;">
                        <div class="screen-crypto-header">
                            <span class="screen-crypto-title">üìä CryptoTrader</span>
                            <span class="screen-crypto-balance">Balance: $<span id="screen-crypto-balance">0</span></span>
                        </div>
                        <div class="screen-crypto-coins">
                            <div class="screen-coin">
                                <div class="screen-coin-header">
                                    <span class="screen-coin-icon">‚Çø</span>
                                    <span class="screen-coin-name">BitCoin</span>
                                </div>
                                <div class="screen-coin-price">$<span id="screen-spacecoin-price">100.00</span></div>
                                <div class="screen-coin-owned">Owned: <span id="screen-spacecoin-owned">0</span></div>
                                <div class="screen-coin-value">Value: $<span id="screen-spacecoin-value">0.00</span></div>
                                <div class="screen-coin-actions">
                                    <button class="screen-coin-btn buy" onclick="screenBuyCrypto('spaceCoin')">Buy $10</button>
                                    <button class="screen-coin-btn sell" onclick="screenSellCrypto('spaceCoin')">Sell All</button>
                                </div>
                            </div>
                            <div class="screen-coin">
                                <div class="screen-coin-header">
                                    <span class="screen-coin-icon">üêï</span>
                                    <span class="screen-coin-name">DogeCoin</span>
                                </div>
                                <div class="screen-coin-price">$<span id="screen-dogecoin-price">10.00</span></div>
                                <div class="screen-coin-owned">Owned: <span id="screen-dogecoin-owned">0</span></div>
                                <div class="screen-coin-value">Value: $<span id="screen-dogecoin-value">0.00</span></div>
                                <div class="screen-coin-actions">
                                    <button class="screen-coin-btn buy" onclick="screenBuyCrypto('dogeCoin')">Buy $10</button>
                                    <button class="screen-coin-btn sell" onclick="screenSellCrypto('dogeCoin')">Sell All</button>
                                </div>
                            </div>
                        </div>
                        <div class="screen-crypto-tip">üí° Prices change each day!</div>
                        <button class="back-btn" onclick="showComputerMainMenu()">‚Üê Back to Desktop</button>
                    </div>
                </div>
            </div>
            <div class="monitor-stand"></div>
        </div>
    </div>

    <!-- ========== MISSION 1 VICTORY ========== -->
    <div id="mission1-victory">
        <div class="victory-scene" style="background: linear-gradient(180deg, #0a1a3a 0%, #1a3a6a 50%, #2a5a9a 100%); border-color: #00ccff;">
            <div class="victory-title" style="color: #00ccff; text-shadow: 0 0 20px #00ccff;">BLAST OFF! üöÄ</div>
            <div class="victory-subtitle" style="top: 90px;">Noah and his family are headed to MARS!</div>

            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
                <button class="victory-btn" style="position: static; transform: none; opacity: 1; font-size: 28px; padding: 20px 40px;" onclick="returnToMenu()">The End... For Now!</button>
            </div>
        </div>
    </div>

    <!-- ========== MISSION 2 INTRO ========== -->
    <div id="mission2-intro">
        <div class="scan-line" style="background: linear-gradient(90deg, transparent, #aaccff, transparent);"></div>
        <div class="corner-decor tl" style="border-color: #aaccff;"></div>
        <div class="corner-decor tr" style="border-color: #aaccff;"></div>
        <div class="corner-decor bl" style="border-color: #aaccff;"></div>
        <div class="corner-decor br" style="border-color: #aaccff;"></div>
        <div class="mission-container">
            <div class="mission-label" style="color: #aaccff; text-shadow: 0 0 10px #aaccff;">MISSION</div>
            <div class="mission-number" style="color: #88aaff; text-shadow: 0 0 20px #88aaff;">2</div>
            <div class="mission-title">
                <span class="highlight" style="color: #aaccff;">Journey to the Moon!</span><br>
                <span class="highlight" style="color: #ffcc00;">Dad</span> is flying, but asteroids are hitting the ship!<br>
                Keep the rocket together and comfort your siblings!
            </div>
        </div>
    </div>

    <!-- ========== MISSION 2 CUTSCENE ========== -->
    <div id="mission2-cutscene">
        <div class="cutscene-stars"></div>
        <div class="speech-bubble">
            <span class="noah-name">Dad:</span> "Hold on everyone! We're hitting some turbulence!"<br><br>
            <span class="mommy-name">Hannah:</span> "I'm scared! Noah, help!"<br><br>
            <span class="noah-name">Noah:</span> "Don't worry, I'll keep us safe!"
        </div>
        <div class="click-continue">Click anywhere to start</div>
    </div>

    <!-- ========== MISSION 2 HUD ========== -->
    <div id="mission2-hud">
        <div class="m2-top-bar">
            <button class="m2-menu-btn" onclick="returnToMenu()">Menu</button>
            <div class="m2-journey-box">
                <div class="m2-journey-label">Journey to Moon</div>
                <div class="m2-journey-progress">
                    <div id="m2-journey-bar"></div>
                </div>
            </div>
            <div class="m2-status-box">
                <div class="m2-stat">
                    <span class="m2-stat-label">Ship Health:</span>
                    <div class="m2-bar-container">
                        <div id="m2-ship-health" class="m2-bar ship"></div>
                    </div>
                </div>
                <div class="m2-stat">
                    <span class="m2-stat-label">Hannah:</span>
                    <div class="m2-bar-container">
                        <div id="m2-hannah-stress" class="m2-bar stress"></div>
                    </div>
                </div>
                <div class="m2-stat">
                    <span class="m2-stat-label">James:</span>
                    <div class="m2-bar-container">
                        <div id="m2-james-stress" class="m2-bar stress"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="m2-bottom-bar">
            <div class="m2-controls">
                <span class="key">WASD</span> Move | <span class="key">Hold E</span> Repair / Comfort
            </div>
        </div>
    </div>

    <!-- Mission 2 Tooltip -->
    <div id="m2-tooltip" class="m2-tooltip"></div>

    <!-- ========== MISSION 2 VICTORY ========== -->
    <div id="mission2-victory">
        <div class="victory-scene" style="background: linear-gradient(180deg, #0a1a2a 0%, #1a3a5a 50%, #2a4a6a 100%); border-color: #aaccff;">
            <div class="victory-title" style="color: #aaccff; text-shadow: 0 0 20px #aaccff;">MOON LANDING!</div>
            <div class="victory-subtitle" style="top: 90px;">You kept everyone safe during the journey!</div>

            <div style="position: absolute; bottom: 150px; left: 50%; transform: translateX(-50%); text-align: center;">
                <div style="font-size: 100px;">üåô</div>
                <div style="font-size: 60px; margin-top: -20px;">üöÄ</div>
                <div style="color: #fff; font-size: 24px; margin-top: 20px;">Welcome to the Moon!</div>
            </div>

            <div style="margin-top: 40px; display: flex; gap: 20px; justify-content: center;">
                <button class="victory-btn" style="position: static; transform: none; opacity: 1;" onclick="returnToMenu()">Continue Adventure</button>
            </div>
        </div>
    </div>

    <!-- ========== LOAD MODULAR GAME ========== -->
    <script type="module" src="src/main.js"></script>
</body>
</html>
